openapi: 3.0.3
info:
  title: CoinsGram API
  description: |
    # API –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã "–ö–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–µ—Ä –º–æ–Ω–µ—Ç"

    –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω—É–º–∏–∑–º–∞—Ç–∞–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª–∏, –¥–æ–±–∞–≤–ª—è—Ç—å –º–æ–Ω–µ—Ç—ã –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é,
    –æ–ø–∏—Å—ã–≤–∞—Ç—å –∏—Ö –∏ –æ—Ü–µ–Ω–∏–≤–∞—Ç—å, –∞ —Ç–∞–∫–∂–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –¥—Ä—É–≥–∏–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.

    ## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

    - ü™ô **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–Ω–µ—Ç–∞–º–∏**: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, –ø—Ä–æ—Å–º–æ—Ç—Ä, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –º–æ–Ω–µ—Ç –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
    - üè∑Ô∏è **–¢–µ–≥–∏**: –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –º–æ–Ω–µ—Ç —Å –ø–æ–º–æ—â—å—é —Ç–µ–≥–æ–≤
    - ‚≠ê **–ò–∑–±—Ä–∞–Ω–Ω–æ–µ**: –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –º–æ–Ω–µ—Ç—ã –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
    - üë• **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏**: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
    - üîç **–ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–æ–∏–º–æ—Å—Ç–∏, —Ç–µ–≥–∞–º
    - üìã **–≠–∫—Å–ø–æ—Ä—Ç**: –≤—ã–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –º–æ–Ω–µ—Ç –≤ Word-–¥–æ–∫—É–º–µ–Ω—Ç

    ## –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

    ‚ùó‚ùó‚ùó –ú–æ–π API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JWT-—Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏. –î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–∞—â–∏—â—ë–Ω–Ω—ã–º —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ: ‚ùó‚ùó‚ùó
    1. –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ /api/auth/jwt/create/ (–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ api/users, –µ—Å–ª–∏ –≤—ã –µ—â–µ —ç—Ç–æ–≥–æ –Ω–µ —Å–¥–µ–ª–∞–ª–∏)
    2. –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å –µ–≥–æ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ Authorization: Bearer <token> . –ü—Ä–æ—Å—Ç–æ –≤—Å—Ç–∞–≤–∏–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ–¥–∞ access –∏–∑ –ø–µ—Ä–≤–æ–≥–æ –ø—É–Ω–∫—Ç–∞ –≤ –ø–æ–ª–µ value (‚ùó–±–µ–∑ –∫–∞–≤—ã—á–µ–∫)

    ## –ê–¥–º–∏–Ω–∫–∞ 

    –ß—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –∞–¥–º–∏–Ω–∞, –≤ –∫–æ–Ω—Å–æ–ª–∏ –≤–ø–∏—à–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ CoinsGram/backend —Å–ª–µ–¥—É—é—â–µ–µ:
    1. python manage.py createsuperuser
    2. –í–≤–µ–¥–∏—Ç–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
    3. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –ø–æ http://127.0.0.1:8000/admin –∏ –ª–æ–≥–∏–Ω—å—Ç–µ—Å—å –ø–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å–≤—É—é—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏.
  version: 1.0.0
  contact:
    name: –í—ã–ø–æ–ª–Ω–∏–ª :–ú–∏—Ö–∞–∏–ª –í–æ–ª–æ–±—É–µ–≤ –ü–ò01/23–±
    email: volobuev.m@edu.rea.ru
    url: https://github.com/MichaelV6/CoinsGram

servers:
  - url: http://127.0.0.1:8000
    description: –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

tags:
  - name: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
    description: –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ —Ä–∞–±–æ—Ç—ã —Å —Ç–æ–∫–µ–Ω–∞–º–∏
  - name: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
    description: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –ø—Ä–æ—Ñ–∏–ª—è–º–∏
  - name: –ü–æ–¥–ø–∏—Å–∫–∏
    description: –ü–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - name: –ú–æ–Ω–µ—Ç—ã
    description: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–µ–π –º–æ–Ω–µ—Ç
  - name: –¢–µ–≥–∏
    description: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–≥–∞–º–∏ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏ –º–æ–Ω–µ—Ç
  - name: –ò–∑–±—Ä–∞–Ω–Ω–æ–µ
    description: –†–∞–±–æ—Ç–∞ —Å –∏–∑–±—Ä–∞–Ω–Ω—ã–º–∏ –º–æ–Ω–µ—Ç–∞–º–∏
  - name: –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
    description: –†–∞–±–æ—Ç–∞ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ –∫ –º–æ–Ω–µ—Ç–∞–º

paths:
  /api/auth/jwt/create/:
    post:
      tags: [–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è]
      summary: –ü–æ–ª—É—á–∏—Ç—å JWT-—Ç–æ–∫–µ–Ω
      description: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ email –∏ –ø–∞—Ä–æ–ª—é
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
                password:
                  type: string
                  format: password
              required:
                - email
                - password
      responses:
        '200':
          description: –£—Å–ø–µ—à–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
          content:
            application/json:
              schema:
                type: object
                properties:
                  access:
                    type: string
                  refresh:
                    type: string
        '400':
          $ref: '#/components/responses/ValidationError'
        '401':
          $ref: '#/components/responses/Unauthorized'

  /api/users/:
    get:
      tags: [–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏]
      summary: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
      security:
        - BearerAuth: []
      responses:
        '200':
          description: –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/User'
    post:
      tags: [–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏]
      summary: –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UserCreate'
      responses:
        '201':
          description: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '400':
          $ref: '#/components/responses/ValidationError'

  /api/users/{id}/:
    get:
      tags: [–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏]
      summary: –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '404':
          $ref: '#/components/responses/NotFound'

    patch:
      tags: [–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏]
      summary: –ß–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UserUpdate'
      responses:
        '200':
          description: –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '400':
          $ref: '#/components/responses/ValidationError'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

    put:
      tags: [–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏]
      summary: –ü–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      description: –ó–∞–º–µ–Ω—è–µ—Ç –≤—Å–µ –ø–æ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è; –¥–æ—Å—Ç—É–ø–Ω–æ –≤–ª–∞–¥–µ–ª—å—Ü—É –∏–ª–∏ –∞–¥–º–∏–Ω—É
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UserUpdate'
      responses:
        '200':
          description: –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–µ–Ω—ë–Ω
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '400':
          $ref: '#/components/responses/ValidationError'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

    delete:
      tags: [–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏]
      summary: –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      description: –£–¥–∞–ª—è–µ—Ç —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç; –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–Ω–æ–≤–æ
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª—ë–Ω
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'


  /api/users/set_password/:
    post:
      tags: [–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏]
      summary: –°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      description: –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                new_password:
                  type: string
                  minLength: 8
                  format: password
                current_password:
                  type: string
                  format: password
              required:
                - new_password
                - current_password
      responses:
        '204':
          description: –ü–∞—Ä–æ–ª—å —É—Å–ø–µ—à–Ω–æ –∏–∑–º–µ–Ω—ë–Ω
        '400':
          $ref: '#/components/responses/ValidationError'
        '401':
          $ref: '#/components/responses/Unauthorized'

  /api/coins/:
    get:
      tags: [–ú–æ–Ω–µ—Ç—ã]
      summary: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –º–æ–Ω–µ—Ç
      parameters:
        - $ref: '#/components/parameters/PageParam'
        - $ref: '#/components/parameters/PageSizeParam'
      responses:
        '200':
          description: –°–ø–∏—Å–æ–∫ –º–æ–Ω–µ—Ç
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Coin'
    post:
      tags: [–ú–æ–Ω–µ—Ç—ã]
      summary: –î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–µ—Ç—É
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/CoinCreate'
      responses:
        '201':
          description: –ú–æ–Ω–µ—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Coin'
        '400':
          $ref: '#/components/responses/ValidationError'

  /api/coins/{id}/:
    get:
      tags: [–ú–æ–Ω–µ—Ç—ã]
      summary: –ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–æ–Ω–µ—Ç–µ
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–æ–Ω–µ—Ç–µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Coin'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      tags: [–ú–æ–Ω–µ—Ç—ã]
      summary: –û–±–Ω–æ–≤–∏—Ç—å –º–æ–Ω–µ—Ç—É
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/CoinCreate'
      responses:
        '200':
          description: –ú–æ–Ω–µ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Coin'
        '400':
          $ref: '#/components/responses/ValidationError'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags: [–ú–æ–Ω–µ—Ç—ã]
      summary: –£–¥–∞–ª–∏—Ç—å –º–æ–Ω–µ—Ç—É
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: –ú–æ–Ω–µ—Ç–∞ —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–∞
        '404':
          $ref: '#/components/responses/NotFound'

  /api/tags/:
    get:
      tags: [–¢–µ–≥–∏]
      summary: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ç–µ–≥–æ–≤
      responses:
        '200':
          description: –°–ø–∏—Å–æ–∫ —Ç–µ–≥–æ–≤
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Tag'
    post:
      tags: [–¢–µ–≥–∏]
      summary: –î–æ–±–∞–≤–∏—Ç—å —Ç–µ–≥
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TagCreate'
      responses:
        '201':
          description: –¢–µ–≥ –¥–æ–±–∞–≤–ª–µ–Ω
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Tag'
        '400':
          $ref: '#/components/responses/ValidationError'

  /api/favorites/:
    get:
      tags: [–ò–∑–±—Ä–∞–Ω–Ω–æ–µ]
      summary: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –º–æ–Ω–µ—Ç
      security:
        - BearerAuth: []
      responses:
        '200':
          description: –°–ø–∏—Å–æ–∫ –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –º–æ–Ω–µ—Ç
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Favorite'
    post:
      tags: [–ò–∑–±—Ä–∞–Ω–Ω–æ–µ]
      summary: –î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–µ—Ç—É –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                coin:
                  type: integer
      responses:
        '201':
          description: –ú–æ–Ω–µ—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Favorite'
        '400':
          $ref: '#/components/responses/ValidationError'


  /api/favorites/by_coin/:
    delete:
      tags: [–ò–∑–±—Ä–∞–Ω–Ω–æ–µ]
      summary: –£–¥–∞–ª–∏—Ç—å –º–æ–Ω–µ—Ç—É –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–æ ID –º–æ–Ω–µ—Ç—ã
      description: –£–¥–∞–ª—è–µ—Ç –º–æ–Ω–µ—Ç—É –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–æ ID –º–æ–Ω–µ—Ç—ã —á–µ—Ä–µ–∑ query-–ø–∞—Ä–∞–º–µ—Ç—Ä `coin`
      security:
        - BearerAuth: []
      parameters:
        - name: coin
          in: query
          required: true
          schema:
            type: integer
          description: ID –º–æ–Ω–µ—Ç—ã
      responses:
        '204':
          description: –ú–æ–Ω–µ—Ç–∞ —É–¥–∞–ª–µ–Ω–∞ –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
        '400':
          description: –ù–µ —É–∫–∞–∑–∞–Ω coin –∏–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å
        '404':
          description: –ò–∑–±—Ä–∞–Ω–Ω–æ–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
        '401':
          description: –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω


  /api/favorites/download:
    get:
      tags: [–ò–∑–±—Ä–∞–Ω–Ω–æ–µ]
      summary: –°–∫–∞—á–∞—Ç—å –∏–∑–±—Ä–∞–Ω–Ω—ã–µ –º–æ–Ω–µ—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ Word
      description: –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –∏–∑–±—Ä–∞–Ω–Ω—ã–µ –º–æ–Ω–µ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ DOCX-—Ñ–∞–π–ª (Word)
      security:
        - BearerAuth: []
      responses:
        '200':
          description: –§–∞–π–ª DOCX —Å –∏–∑–±—Ä–∞–Ω–Ω—ã–º–∏ –º–æ–Ω–µ—Ç–∞–º–∏
          content:
            '*/*':
              schema:
                type: string
                format: binary
        '401':
          $ref: '#/components/responses/Unauthorized'

  /api/subscriptions/:
    get:
      tags: [–ü–æ–¥–ø–∏—Å–∫–∏]
      summary: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      security:
        - BearerAuth: []
      responses:
        '200':
          description: –°–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å–æ–∫
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Subscription'
    post:
      tags: [–ü–æ–¥–ø–∏—Å–∫–∏]
      summary: –û—Ñ–æ—Ä–º–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                subscribed_to:
                  type: integer
                  description: ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ø–æ–¥–ø–∏—Å–∫–∏
      responses:
        '201':
          description: –ü–æ–¥–ø–∏—Å–∫–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∞
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Subscription'
        '400':
          $ref: '#/components/responses/ValidationError'

  /api/subscriptions/by_user/:
    delete:
      tags:
        - –ü–æ–¥–ø–∏—Å–∫–∏
      summary: –û—Ç–ø–∏—Å–∞—Ç—å—Å—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –µ–≥–æ ID
      description: |
        –£–¥–∞–ª—è–µ—Ç –ø–æ–¥–ø–∏—Å–∫—É –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –µ–≥–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É (subscribed_to).
        –¢—Ä–µ–±—É–µ—Ç—Å—è query-–ø–∞—Ä–∞–º–µ—Ç—Ä `subscribed_to` ‚Äî ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –æ—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω—É–∂–Ω–æ –æ—Ç–ø–∏—Å–∞—Ç—å—Å—è.
      security:
        - BearerAuth: []
      parameters:
        - name: subscribed_to
          in: query
          required: true
          schema:
            type: integer
          description: ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –æ—Ç –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω—É–∂–Ω–æ –æ—Ç–ø–∏—Å–∞—Ç—å—Å—è
      responses:
        '204':
          description: –ü–æ–¥–ø–∏—Å–∫–∞ —É–¥–∞–ª–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ
        '400':
          description: –ù–µ —É–∫–∞–∑–∞–Ω subscribed_to –∏–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å
        '404':
          description: –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
        '401':
          description: –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω

  /api/comments/:
    post:
      tags: [–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏]
      summary: –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –º–æ–Ω–µ—Ç–µ
      description: –¢–æ–ª—å–∫–æ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CommentCreate'
      responses:
        '201':
          description: –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Comment'
        '400':
          $ref: '#/components/responses/ValidationError'
        '401':
          $ref: '#/components/responses/Unauthorized'

  /api/comments/{id}/:
    get:
      tags: [–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏]
      summary: –ü–æ–ª—É—á–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø–æ ID
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: –£—Å–ø–µ—à–Ω–æ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Comment'
        '404':
          $ref: '#/components/responses/NotFound'
    delete:
      tags: [–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏]
      summary: –£–¥–∞–ª–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
      description: –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è (—Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä –∏–ª–∏ –∞–¥–º–∏–Ω)
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª—ë–Ω
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    patch:
      tags: [–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏]
      summary: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
      description: –¢–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –∏–ª–∏ –∞–¥–º–∏–Ω
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                text:
                  type: string
                  description: –ù–æ–≤—ã–π —Ç–µ–∫—Å—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
              required:
                - text
      responses:
        '200':
          description: –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —É—Å–ø–µ—à–Ω–æ –∏–∑–º–µ–Ω—ë–Ω
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Comment'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'

  /api/comments/coin_comments/:
    get:
      tags: [–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏]
      summary: –ü–æ–ª—É—á–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –º–æ–Ω–µ—Ç–µ
      description: –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —É–∫–∞–∑–∞–Ω–Ω–æ–π –º–æ–Ω–µ—Ç–µ
      security:
        - BearerAuth: []
      parameters:
        - name: coin_id
          in: query
          description: ID –º–æ–Ω–µ—Ç—ã
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: –£—Å–ø–µ—à–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Comment'
        '400':
          description: –ù–µ —É–∫–∞–∑–∞–Ω –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –º–æ–Ω–µ—Ç—ã
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å coin_id"


components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  parameters:
    PageParam:
      name: page
      in: query
      description: –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
      schema:
        type: integer
        default: 1
        minimum: 1
    PageSizeParam:
      name: page_size
      in: query
      description: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
      schema:
        type: integer
        default: 10
        minimum: 1
        maximum: 100
  responses:
    NotFound:
      description: –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    ValidationError:
      description: –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ValidationError'
    Unauthorized:
      description: –ù–µ–æ–±—Ö–æ–¥–∏–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    Forbidden:
      description: –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
  schemas:
    Error:
      type: object
      properties:
        detail:
          type: string
          example: "–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–º—É —Ä–µ—Å—É—Ä—Å—É."
    ValidationError:
      type: object
      additionalProperties:
        type: array
        items:
          type: string
      example:
        name:
          - "–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ."
        email:
          - "–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç email."
    User:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        email:
          type: string
          format: email
        username:
          type: string
          minLength: 3
        first_name:
          type: string
        last_name:
          type: string
        avatar:
          type: string
          format: uri
          nullable: true
          description: URL –∞–≤–∞—Ç–∞—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      required:
        - id
        - email
        - username
        - first_name
        - last_name
    UserCreate:
      type: object
      properties:
        email:
          type: string
          format: email
        username:
          type: string
          minLength: 3
        first_name:
          type: string
        last_name:
          type: string
        password:
          type: string
          format: password
          minLength: 8
        avatar:
          type: string
          format: binary
          description: –§–∞–π–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∞–≤–∞—Ç–∞—Ä–∞
      required:
        - email
        - username
        - first_name
        - last_name
        - password
    UserUpdate:
      type: object
      properties:
        email:
          type: string
          format: email
        username:
          type: string
          minLength: 3
        first_name:
          type: string
        last_name:
          type: string
        password:
          type: string
          format: password
          minLength: 8
        avatar:
          type: string
          format: binary
          description: –§–∞–π–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∞–≤–∞—Ç–∞—Ä–∞
    Subscription:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        subscribed_to:
          type: integer
          description: ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–≥–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∞
        created_at:
          type: string
          format: date-time
      required:
        - id
        - subscribed_to
    Coin:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        author:
          $ref: '#/components/schemas/User'
        name:
          type: string
          maxLength: 256
        description:
          type: string
        estimated_value:
          type: integer
          minimum: 1
        tags:
          type: array
          items:
            $ref: '#/components/schemas/Tag'
        image:
          type: string
          format: uri
          description: URL –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
        pub_date:
          type: string
          format: date-time
      required:
        - id
        - author
        - name
        - description
        - estimated_value
        - tags
        - image
        - pub_date
    CoinCreate:
      type: object
      properties:
        name:
          type: string
          maxLength: 256
        description:
          type: string
        estimated_value:
          type: integer
          minimum: 1
        tags:
          type: array
          items:
            type: integer
          description: –°–ø–∏—Å–æ–∫ ID —Ç–µ–≥–æ–≤
        image:
          type: string
          format: binary
          description: –§–∞–π–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–æ–Ω–µ—Ç—ã
      required:
        - name
        - description
        - estimated_value
        - tags
        - image
    Tag:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          maxLength: 32
        slug:
          type: string
          maxLength: 32
        color:
          type: string
          description: HEX-–∫–æ–¥ —Ü–≤–µ—Ç–∞ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è
      required:
        - id
        - name
        - slug
        - color
    TagCreate:
      type: object
      properties:
        name:
          type: string
          maxLength: 32
        slug:
          type: string
          maxLength: 32
        color:
          type: string
          pattern: '^#([A-Fa-f0-9]{6})$'
      required:
        - name
        - slug
        - color
    Favorite:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        coin:
          $ref: '#/components/schemas/Coin'
        added_at:
          type: string
          format: date-time
      required:
        - id
        - coin
    Comment:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        author:
          type: string
          description: –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∞–≤—Ç–æ—Ä–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
        text:
          type: string
          description: –¢–µ–∫—Å—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
        created_at:
          type: string
          format: date-time
          description: –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
      required:
        - id
        - author
        - text
        - created_at
    CommentCreate:
      type: object
      properties:
        coin:
          type: integer
          description: ID –º–æ–Ω–µ—Ç—ã, –∫ –∫–æ—Ç–æ—Ä–æ–π –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
        text:
          type: string
          description: –¢–µ–∫—Å—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
      required:
        - coin
        - text